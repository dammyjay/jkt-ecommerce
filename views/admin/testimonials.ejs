<div class="container">
  <h1>Manage Testimonials</h1>

  <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
    <% testimonials.forEach(testimonial => { %>
      <div class="card" style="padding: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);">
        <p>"<%= testimonial.message %>"</p>
        <p style="font-weight: 600; margin-top: 10px;">- <%= testimonial.name %></p>
        <p style="font-size: 0.85rem; color: gray;">Submitted: <%= new Date(testimonial.created_at).toLocaleString() %></p>

        <% if (!testimonial.is_approved) { %>
          <!-- Approve button -->
          <form action="/admin/testimonials/<%= testimonial.id %>/approve" method="POST" style="margin-top: 10px;">
            <button type="submit" class="btn btn-primary btn-sm">Approve</button>
          </form>
        <% } else { %>
          <!-- Unapprove button -->
          <form action="/admin/testimonials/<%= testimonial.id %>/unapprove" method="POST" style="margin-top: 10px;">
            <button type="submit" class="btn btn-secondary btn-sm">Unapprove</button>
          </form>
        <% } %>
      </div>
    <% }) %>
  </div>
</div>
