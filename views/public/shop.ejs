<div class="shop-container">
  <h1>Our Products</h1>

  <!-- Categories Filter (Optional) -->
  <div class="categories">
    <button onclick="filterCategory('all')">All</button>
    <% categories.forEach(cat => { %>
      <button onclick="filterCategory('<%= cat.id %>')"><%= cat.name %></button>
    <% }) %>
  </div>

  <!-- Products Grid -->
  <div class="products-grid">
    <% products.forEach(product => { %>
      <div class="product-card" data-category="<%= product.category_id %>">
        <img src="<%= product.image_url %>" alt="<%= product.name %>">
        <h4><%= product.name %></h4>
        <p><%= product.category_name %></p>
        <p>â‚¦<%= product.price.toLocaleString() %></p>
        <a href="/products/<%= product.id %>" class="btn">View Details</a>
      </div>
    <% }) %>
  </div>
</div>

<script>
function filterCategory(categoryId) {
  const cards = document.querySelectorAll('.product-card');
  cards.forEach(card => {
    if (categoryId === 'all' || card.dataset.category === categoryId) {
      card.style.display = 'block';
    } else {
      card.style.display = 'none';
    }
  });
}
</script>
